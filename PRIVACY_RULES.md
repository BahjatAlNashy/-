# ููุงุนุฏ ุงูุฎุตูุตูุฉ (Privacy Rules)

## ๐ ูุธุงู ุงูุฎุตูุตูุฉ ุงููุญุฏุซ

ุชู ุชุทุจูู ูุธุงู ุฎุตูุตูุฉ ุจุณูุท ููุงุถุญ ูููุตุงุฆุฏ ูุงูุฏุฑูุณ.

---

## ๐ ุงููุงุนุฏุฉ ุงูุฃุณุงุณูุฉ

### ุงูุนูุงุตุฑ ุงูุนุงูุฉ (is_private = false):
โ **ูุชุงุญุฉ ููุฌููุน** - ุฒูุงุฑ ููุณุฌููู

### ุงูุนูุงุตุฑ ุงูุฎุงุตุฉ (is_private = true):
โ **ูุชุงุญุฉ ูููุณุฌููู ููุท** - ุฃู ุดุฎุต ุณุฌู ุฏุฎููู  
โ **ุบูุฑ ูุชุงุญุฉ ููุฒูุงุฑ** - ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู

---

## ๐ฏ ุชุทุจูู ุงูููุงุนุฏ

### ููุฒูุงุฑ (ุบูุฑ ูุณุฌูู ุงูุฏุฎูู):
```
โ ูููููู ุฑุคูุฉ: ุงูุนุงูุฉ ููุท (is_private = false)
โ ูุง ูููููู ุฑุคูุฉ: ุงูุฎุงุตุฉ (is_private = true)
```

### ูููุณุชุฎุฏููู ุงููุณุฌููู (ุฃู ูุณุชุฎุฏู):
```
โ ูููููู ุฑุคูุฉ: ูู ุดูุก (ุนุงูุฉ + ุฎุงุตุฉ)
```

---

## ๐ ุงูุชุทุจูู ูู Endpoints

### 1. Index (ุนุฑุถ ุงููู)
```
GET /api/poems/getall
GET /api/lessons/getall

ุฒุงุฆุฑ โ ุนุงูุฉ ููุท
ูุณุฌู โ ูู ุดูุก (ุนุงูุฉ + ุฎุงุตุฉ)
```

### 2. Search (ุงูุจุญุซ)
```
GET /api/poems/search?keyword=...
GET /api/lessons/search?keyword=...

ุฒุงุฆุฑ โ ูุจุญุซ ูู ุงูุนุงูุฉ ููุท
ูุณุฌู โ ูุจุญุซ ูู ูู ุดูุก (ุนุงูุฉ + ุฎุงุตุฉ)
```

### 3. Show (ุนุฑุถ ูุงุญุฏ)
```
GET /api/poems/{id}
GET /api/lessons/{id}

ุนูุตุฑ ุนุงู โ ุงููู ููููู ุงููุตูู
ุนูุตุฑ ุฎุงุต + ุฒุงุฆุฑ โ 403 Forbidden
ุนูุตุฑ ุฎุงุต + ูุณุฌู โ โ ููููู ุงููุตูู
```

---

## ๐ป ุงูููุฏ ุงููุทุจู

### ูู Index ู Search:
```php
// ุชุทุจูู ููุทู ุงูุฎุตูุตูุฉ
if (!Auth::check()) {
    // ุงูุฒุงุฆุฑ: ุนุงูุฉ ููุท
    $query->where('is_private', false);
}
// ุงููุณุฌููู: ูู ุดูุก - ูุง ุญุงุฌุฉ ูููุชุฑ
```

### ูู Show:
```php
if ($item->is_private) {
    if (!$user) {
        return response()->json([
            'success' => false,
            'message' => 'ูุฐุง ุงููุญุชูู ุฎุงุตุ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ูููุตูู ุฅููู.'
        ], 403);
    }
}
```

---

## ๐ ุณููุงุฑูููุงุช ุนูููุฉ

### ุณููุงุฑูู 1: ุฒุงุฆุฑ ูุทูุจ ูุงุฆูุฉ ุงููุตุงุฆุฏ
```bash
GET /api/poems/getall

Response:
- ูุตูุฏุฉ 1 (ุนุงูุฉ) โ
- ูุตูุฏุฉ 2 (ุนุงูุฉ) โ
- ูุตูุฏุฉ 3 (ุฎุงุตุฉ) โ ูู ุชุธูุฑ
- ูุตูุฏุฉ 4 (ุฎุงุตุฉ) โ ูู ุชุธูุฑ
```

---

### ุณููุงุฑูู 2: ูุณุชุฎุฏู ูุณุฌู ูุทูุจ ูุงุฆูุฉ ุงููุตุงุฆุฏ
```bash
GET /api/poems/getall
Headers: Authorization: Bearer TOKEN

Response:
- ูุตูุฏุฉ 1 (ุนุงูุฉ) โ
- ูุตูุฏุฉ 2 (ุนุงูุฉ) โ
- ูุตูุฏุฉ 3 (ุฎุงุตุฉ) โ
- ูุตูุฏุฉ 4 (ุฎุงุตุฉ) โ
```

---

### ุณููุงุฑูู 3: ุฒุงุฆุฑ ูุญุงูู ุงููุตูู ููุตูุฏุฉ ุฎุงุตุฉ
```bash
GET /api/poems/10
# ุงููุตูุฏุฉ 10 ุฎุงุตุฉ (is_private = true)

Response: 403 Forbidden
{
  "success": false,
  "message": "ูุฐู ุงููุตูุฏุฉ ุฎุงุตุฉุ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ูููุตูู ุฅูููุง."
}
```

---

### ุณููุงุฑูู 4: ูุณุชุฎุฏู ูุณุฌู ูุตู ููุตูุฏุฉ ุฎุงุตุฉ
```bash
GET /api/poems/10
Headers: Authorization: Bearer TOKEN
# ุงููุตูุฏุฉ 10 ุฎุงุตุฉ

Response: 200 OK
{
  "success": true,
  "data": {...}
}
```

---

### ุณููุงุฑูู 5: ุจุญุซ ุฒุงุฆุฑ
```bash
GET /api/lessons/search?keyword=ุจุฑูุฌุฉ

Response:
- ุฏุฑุณ 1 (ุนุงู - ูุญุชูู "ุจุฑูุฌุฉ") โ
- ุฏุฑุณ 2 (ุฎุงุต - ูุญุชูู "ุจุฑูุฌุฉ") โ ูู ูุธูุฑ
- ุฏุฑุณ 3 (ุนุงู - ูุญุชูู "ุจุฑูุฌุฉ") โ
```

---

### ุณููุงุฑูู 6: ุจุญุซ ูุณุชุฎุฏู ูุณุฌู
```bash
GET /api/lessons/search?keyword=ุจุฑูุฌุฉ
Headers: Authorization: Bearer TOKEN

Response:
- ุฏุฑุณ 1 (ุนุงู - ูุญุชูู "ุจุฑูุฌุฉ") โ
- ุฏุฑุณ 2 (ุฎุงุต - ูุญุชูู "ุจุฑูุฌุฉ") โ
- ุฏุฑุณ 3 (ุนุงู - ูุญุชูู "ุจุฑูุฌุฉ") โ
```

---

## ๐ ุฌุฏูู ููุฎุต

| Endpoint | ุฒุงุฆุฑ (ุนุงู) | ุฒุงุฆุฑ (ุฎุงุต) | ูุณุฌู (ุนุงู) | ูุณุฌู (ุฎุงุต) |
|----------|-----------|-----------|-----------|-----------|
| **Index** | โ ูุธูุฑ | โ ูุง ูุธูุฑ | โ ูุธูุฑ | โ ูุธูุฑ |
| **Search** | โ ูุธูุฑ | โ ูุง ูุธูุฑ | โ ูุธูุฑ | โ ูุธูุฑ |
| **Show** | โ ูุตู | โ 403 | โ ูุตู | โ ูุตู |

---

## โจ ุงููููุฒุงุช

- โ **ุจุณูุท ููุงุถุญ** - ูุงุนุฏุฉ ูุงุญุฏุฉ ููุท
- โ **ูุง ุชูููุฒ ุจูู ุงููุณุชุฎุฏููู** - ูู ุงููุณุฌููู ููู ููุณ ุงููุตูู
- โ **ุชุทุจูู ูุชุณู** - ููุณ ุงูููุทู ูู ูู ุงูู endpoints
- โ **ุฑุณุงุฆู ูุงุถุญุฉ** - ุงููุณุชุฎุฏู ูุนุฑู ุงูุณุจุจ

---

## ๐ ุงููุฑู ุนู ุงููุธุงู ุงูุณุงุจู

### ูุจู ุงูุชุญุฏูุซ:
```
ูุณุฌู โ ูุฑู: ุงูุนุงูุฉ + ุฎุงุตุชู ููุท
ุฎุงุต ููุขุฎุฑูู โ ูุง ูุฑุงู
```

### ุจุนุฏ ุงูุชุญุฏูุซ:
```
ูุณุฌู โ ูุฑู: ูู ุดูุก (ุนุงูุฉ + ุฎุงุตุฉ ููุฌููุน)
```

---

## ๐ก ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ูุชู ุชุณุชุฎุฏู is_private = trueุ
- ูุญุชูู ุญุตุฑู ููุฃุนุถุงุก ููุท
- ูุญุชูู ูุชุทูุจ ุชุณุฌูู ุฏุฎูู
- ูุญุชูู ุชุฌุฑูุจู ูููุดุชุฑููู

### ูุชู ุชุณุชุฎุฏู is_private = falseุ
- ูุญุชูู ุนุงู ููุชุฑููุฌ
- ูุญุชูู ูุฌุงูู ููุฌููุน
- ูุญุชูู ูุณูุญ ุจุงููุดุงุฑูุฉ

---

## ๐ ุชุทุจูู ูู Frontend

```javascript
// ุนุฑุถ ูุญุชูู ุฎุงุต
if (item.is_private && !isAuthenticated) {
  return (
    <div className="private-content">
      <LockIcon />
      <p>ูุญุชูู ุฎุงุต - ุณุฌู ุงูุฏุฎูู ูููุตูู</p>
      <LoginButton />
    </div>
  );
}

// ุนุฑุถ ุงููุญุชูู ุงูุนุงุฏู
return <ItemContent item={item} />;
```

---

## โ ุงูุฎูุงุตุฉ

**ุงููุงุนุฏุฉ ุงูุจุณูุทุฉ:**
- ุฒุงุฆุฑ โ ุนุงู ููุท
- ูุณุฌู โ ูู ุดูุก

**ูุง ุงุณุชุซูุงุกุงุช - ูุง ุชุนููุฏุงุช**
